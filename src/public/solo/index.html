<!DOCTYPE html>
<html>
    <head>
        <title>Modo individual | EduHoot</title>
        <link rel="stylesheet" href="../css/solo.css">
        <link rel="stylesheet" href="../css/music-player.css">
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
        <link rel="icon" href="/icons/logo.svg" type="image/svg+xml">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <a class="back-link" href="/" data-i18n="back">← Volver</a>
        <header class="hero">
            <img class="hero__logo" src="/icons/logo.svg" alt="EduHoot logo">
            <div class="hero__text">
                <p class="eyebrow" data-i18n="eyebrow">Modo individual</p>
                <h1 data-i18n="title">Juega a los públicos en solitario</h1>
                <p class="subtext" data-i18n="subtitle">Elige un quiz público, responde las preguntas y entra en el ranking global.</p>
            </div>
            <div class="hero__lang">
                <label class="lang-switch">
                    <span data-i18n="langLabel">Idioma</span>
                    <select id="lang-select">
                        <option value="es">ES</option>
                        <option value="en">EN</option>
                        <option value="ca">CA</option>
                    </select>
                </label>
            </div>
        </header>
        <main class="grid">
            <section id="catalog-panel" class="panel">
                <div class="panel__header">
                    <div>
                        <p class="eyebrow"></p>
                        <h2></h2>
                    </div>
                    <div class="panel__actions">
                        <input id="search" type="search" placeholder="Buscar por nombre o etiqueta" data-i18n-placeholder="searchPlaceholder">
                        <label for="sort" class="muted" data-i18n="sortLabel">Ordenar por</label>
                        <select id="sort">
                            <option value="plays" data-i18n="sortPlays">Más jugados</option>
                            <option value="least" data-i18n="sortLeastPlays">Menos jugados</option>
                            <option value="recent" data-i18n="sortNewest">Más recientes</option>
                            <option value="rating" data-i18n="sortRating">Mejor valorados</option>
                            <option value="alpha" data-i18n="sortAlphaAsc">A-Z</option>
                            <option value="alpha-desc" data-i18n="sortAlphaDesc">Z-A</option>
                        </select>
                    </div>
                </div>
                <div class="panel__filters">
                    <label for="tag-filter" class="muted" data-i18n="filterTagLabel">Etiquetas</label>
                    <div id="tag-filter" class="tag-filter" role="group" aria-label="Etiquetas"></div>
                    <div class="tag-filter__actions">
                        <button id="tags-select-all" class="tag-filter__btn is-icon" type="button" data-i18n="filterTagSelectAll" aria-label="Seleccionar todas">
                            <span class="tag-filter__icon" aria-hidden="true">✓</span>
                            <span class="sr-only">Seleccionar todas</span>
                        </button>
                        <button id="tags-clear" class="tag-filter__btn is-icon" type="button" data-i18n="filterTagClear" aria-label="Limpiar">
                            <span class="tag-filter__icon" aria-hidden="true">×</span>
                            <span class="sr-only">Limpiar</span>
                        </button>
                    </div>
                    <label for="min-questions" class="muted" data-i18n="filterQuestionsLabel">Preguntas</label>
                    <input id="min-questions" type="number" min="1" inputmode="numeric" data-i18n-placeholder="filterMinPlaceholder" placeholder="mín">
                    <span class="muted">-</span>
                    <input id="max-questions" type="number" min="1" inputmode="numeric" data-i18n-placeholder="filterMaxPlaceholder" placeholder="máx">
                    <label class="checkbox-inline">
                        <input id="only-image" type="checkbox">
                        <span data-i18n="filterOnlyImage">Solo con imagen</span>
                    </label>
                </div>
                <div id="public-list" class="cards"></div>
                <p id="public-empty" class="muted"></p>
            </section>

            <section id="game-panel" class="panel play-panel">
                <div class="panel__header">
                    <div>
                        <p class="eyebrow" data-i18n="soloEyebrow">Modo individual</p>
                        <h2 id="selected-title" data-i18n="soloTitle">Elige un juego para empezar</h2>
                    </div>
                </div>

                <div id="start-form" class="start-form hidden">
                    <p id="selected-meta" class="muted" data-i18n="startSelect">Selecciona un juego público para empezar.</p>

                    <label for="question-count" class="muted" data-i18n="questionCountLabel">Preguntas a responder</label>
                    <div class="question-count-controls">
                        <input id="question-count" type="number" min="1" step="1" inputmode="numeric" autocomplete="off">
                        <span id="question-count-total" class="muted"></span>
                    </div>
                    <label for="question-time" class="muted" data-i18n="questionTimeLabel">Tiempo por pregunta (segundos)</label>
                    <div class="question-count-controls">
                        <input id="question-time" type="number" min="5" max="120" step="1" inputmode="numeric" autocomplete="off" data-i18n-placeholder="questionTimePlaceholder" placeholder="Auto">
                    </div>

                    <button id="start-btn" class="btn btn-primary" data-i18n="startButton">Jugar en solitario</button>
                    <p class="muted" data-i18n="startHint">El tiempo por pregunta se respeta si el quiz lo define.</p>
                </div>

                <div id="game-area" class="game-area hidden">
                    <div class="game-progress">
                        <span id="question-progress" class="pill"></span>
                        <span id="score-pill" class="pill pill-muted"></span>
                        <span id="timer-pill" class="pill pill-timer"></span>
                    </div>
                    <div class="question-card">
                        <p id="question-text" class="question-text"></p>
                        <div id="question-media" class="question-media hidden">
                            <img id="question-image" alt="">
                            <video id="question-video" controls playsinline></video>
                            <iframe id="question-iframe" title="video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <div id="answers" class="answers"></div>
                        <div id="multi-submit-row" class="multi-submit-row">
                            <button id="multi-submit" type="button" class="btn multi-submit hidden" data-i18n="submitAnswers">Enviar respuestas</button>
                        </div>
                        <p id="feedback" class="feedback"></p>
                    </div>
                </div>

                <div id="result-area" class="result-area hidden">
                    <h3 data-i18n="finishTitle">Partida terminada</h3>
                    <p id="result-summary" class="subtext"></p>
                    <div id="ranking" class="ranking hidden">
                        <div class="ranking__header">
                            <h4 data-i18n="rankingTitle">Top 10 global</h4>
                        </div>
                        <ol id="ranking-list"></ol>
                    </div>
                    <div class="result-actions">
                        <button id="play-again" class="btn btn-primary" data-i18n="playAgain">Volver a jugar</button>
                        <button id="pick-another" class="btn btn-ghost" data-i18n="pickAnother">Elegir otro quiz</button>
                    </div>
                </div>
            </section>
        </main>
        <div id="public-pagination" class="pagination hidden"></div>

        <div class="music-section bottom-music">
            <div id="solo-music-player" class="music-player-shell"></div>
        </div>

        <div id="feedback-modal" class="solo-modal">
            <div class="solo-modal__content">
                <h3 id="feedback-title"></h3>
                <p id="feedback-body"></p>
                <button id="feedback-close" class="btn btn-primary">OK</button>
            </div>
        </div>

        <div id="ranking-modal" class="solo-modal">
            <div class="solo-modal__content ranking-modal__content">
                <h3 id="ranking-modal-title" data-i18n="rankingTitle">Top 10 global</h3>
                <ol id="ranking-modal-list" class="ranking-list"></ol>
                <button id="ranking-modal-close" class="btn btn-ghost" data-i18n="rankingClose">Cerrar</button>
            </div>
        </div>

        <div id="name-modal" class="solo-modal">
            <div class="solo-modal__content">
                <h3 data-i18n="nameTitle">Identifícate para el ranking</h3>
                <p class="muted" data-i18n="nameDesc">Usa 3 letras o números.</p>
                <input id="player-name" type="text" maxlength="3" pattern="[A-Za-z0-9]{1,3}" placeholder="AAA" data-i18n-placeholder="namePlaceholder" autocomplete="off">
                <div class="modal-actions">
                    <button id="name-cancel" class="btn btn-ghost" data-i18n="nameSkip">Omitir</button>
                    <button id="name-save" class="btn btn-primary" data-i18n="nameSave">Guardar</button>
                </div>
            </div>
        </div>
        <footer class="site-footer">
            <div class="site-footer__content">
                <a class="site-footer__link" href="https://edutictac.es" target="_blank" rel="noopener">
                    <img class="site-footer__logo" src="/icons/logoedutictac.jpeg" alt="EduTicTac">
                    <span>edutictac.es</span>
                </a>
                <p class="site-footer__about" data-i18n="footerLicense">EduHoot · Licencia Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)</p>
            </div>
        </footer>

        <script src="../js/music-player.js"></script>
        <script src="../js/solo.js"></script>
    </body>
</html>
